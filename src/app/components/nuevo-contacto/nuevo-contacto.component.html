<div class="container mt-3">
  <h2>Agregar Nuevo Contacto</h2>

  <form #contactoForm="ngForm" (ngSubmit)="agregarContacto(contactoForm)">
    <div class="mb-3">
      <label for="id" class="form-label">ID</label>
      <input
        type="number"
        id="id"
        name="id"
        class="form-control"
        required
        min="1"
        [(ngModel)]="contacto.id"
        #id="ngModel"
      />
      <div class="text-danger" *ngIf="id.invalid && (id.dirty || id.touched)">
        El ID es obligatorio y debe ser mayor o igual a 1.
      </div>
    </div>

    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input
        type="text"
        id="nombre"
        name="nombre"
        class="form-control"
        required
        [(ngModel)]="contacto.nombre"
        #nombre="ngModel"
      />
      <div class="text-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
        El nombre es obligatorio.
      </div>
    </div>

    <div class="mb-3">
      <label for="telefono" class="form-label">Teléfono</label>
      <input
        type="text"
        id="telefono"
        name="telefono"
        class="form-control"
        required
        pattern="^[0-9]+$"
        [(ngModel)]="contacto.telefono"
        #telefono="ngModel"
      />
      <div class="text-danger" *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
        El teléfono es obligatorio y debe contener solo números.
      </div>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        class="form-control"
        required
        email
        [(ngModel)]="contacto.email"
        #email="ngModel"
      />
      <div class="text-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
        Por favor, ingresa un email válido.
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-danger"
      [disabled]="contactoForm.invalid"
    >
      Agregar Contacto
    </button>

    <div *ngIf="mensajeError" class="alert alert-danger mt-3">
      {{ mensajeError }}
    </div>
    <div *ngIf="mensajeExito" class="alert alert-success mt-3">
      {{ mensajeExito }}
    </div>
  </form>
</div>
